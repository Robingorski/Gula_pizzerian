/*!
 * Flip 3.6.0
 * https://greensock.com
 * 
 * @license Copyright 2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(e){"use strict";function m(t){return i(t)[0]||console.warn("Element not found:",t)}function n(t){return i(m(t||document.body).querySelectorAll("[data-flip-id]"))}function o(t,e,n){return t.forEach(function(t){return t.classList[n](e)})}function r(t){return t.parentNode&&t.parentNode.removeChild(t)}function s(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function t(t){return"string"==typeof t.props&&(t.props=t.props.split(" ").join("").split(","))}function u(t,e){var n,r={};for(n in t)e[n]||(r[n]=t[n]);return r}function z(t,e,n){for(var r=0;r<t.length;r++){var i,o,a=t[r],s=e[r],p=a.style;a.parentNode||s.p&&s.p.appendChild(a),"none"===nt.getProperty(a,"display")&&(p.display=s.d),p.position="absolute",p.width=s.w+"px",p.height=s.h+"px",p.top||(p.top="0px"),p.left||(p.left="0px"),i=a.getBoundingClientRect(),o={x:s.l-i.left,y:s.t-i.top},nt.set(a,{x:"+="+o.x,y:"+="+o.y}),n&&(n[r]=o)}return n}function B(t,e){return(t.rotation=e+"deg")&&t.renderTransform(1,t)}function C(c,d){return function(t,e){var n,r,i,o,a=nt.getProperty(t),s=d?nt.getProperty(d):a,p=a("rotation"),u=c&&p!==c[e].r,l=(u?c[e].r:p)*w,f=t._gsap;return u&&B(f,c[e].r),r=(d||t).getBoundingClientRect(),n={el:t,d:a("display"),cos:l?g(Math.cos(l)):1,sin:l?g(Math.sin(l)):0,p:t.parentNode,x:a("x"),y:a("y"),sx:f.scaleX,sy:f.scaleY,l:r.left,t:r.top,w:Math.ceil(parseFloat(s("width","px"))),h:parseFloat(s("height","px")),bw:r.width,bh:r.height,o:a("opacity"),r:p,rx:0,ry:0,origin:(getComputedStyle(t).transformOrigin||"0 0").split(" ").map(parseFloat)},d&&(r=h(d),i=n.w,o=n.h,n.w=i*g(r[0])+g(r[2])*o,n.h=i*g(r[1])+g(r[3])*o),u&&B(f,p),n}}function E(t,e){for(var n,r,i,o,a,s=e.length;s--;)(n=(r=e[s]).el.style).width=at(t[s],r)+"px",n.height=st(t[s],r)+"px",o=t[s].r,a=r.el._gsap,o&&B(a,o),i=r.el.getBoundingClientRect(),r.l=i.left,r.t=i.top,n.width=r.w+"px",n.height=r.h+"px",o&&B(a,r.r)}function F(t,e,n){for(var r=0,i=n._flipProps;t;)t._flip===n&&(r+=i[e](t._flipI)-nt.getProperty(t,e)),t=t.parentNode;return r}function G(t,e){return(t.w*t.sx/(e.w*e.sx)*e.sx-e.sx)*e.origin[0]}function H(t,e){return(t.h*t.sy/(e.h*e.sy)*e.sy-e.sy)*e.origin[1]}function I(t,e,n,r,i){return e.x+t.l-e.l+(n?G(t,e)*e.cos+H(t,e)*e.sin:0)+r-(i?F(e.p,"x",i):0)}function J(t,e,n,r,i){return e.y+t.t-e.t+(n?H(t,e)*e.cos+G(t,e)*e.sin:0)+r-(i?F(e.p,"y",i):0)}function K(t,e){return t.sx*t.w/e.w}function L(t,e){return t.sy*t.h/e.h}function O(t,e,n,r,i,o,a){if(e.length){var s,p,u,l=a?n:r,f=[];for(s=0;s<e.length;s++)u=e[s],~(p=t.indexOf(u))?(a||"none"===n[p].d&&(u.style.display=r[p].d),f.push(l[p]),t.splice(p,1),n.splice(p,1),r.splice(p,1)):f.push(v(u));i&&o.add(i(e,function(){return z(e,f)||e}),0)}}var i,nt,h,a,l=1,g=Math.abs,p={},f={},rt="onStart,onUpdate,onComplete,onReverseComplete,onInterrupt".split(","),P="transform,transformOrigin,width,height,position,top,left".split(","),it={change:1,to:1,from:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,scale:1,context:1,swap:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1},ot={scale:1,absolute:1,fitChild:1,getVars:1},w=Math.PI/180,v=C(),at=function _getWidth(t,e){return t.w*t.sx/e.sx},st=function _getHeight(t,e){return t.h*t.sy/e.sy},c=((a=Flip.prototype).record=function record(t){var a=this;this.targets=t=t?i(t):this.targets||n(this.vars.context);var s=this._data,p=s.before=t.map(v),u=s.props;return s.idLookup={},s.opacity=[],s.entering=[],s.after=p,t.forEach(function(t,e){var n=t.getAttribute("data-flip-id"),r=t._flip;if(n||t.setAttribute("data-flip-id",n=""+l++),r&&r.progress()<1&&!r.paused()&&(r.progress(1),r._flipAnims&&r._flipAnims.forEach(function(t){return t.kill()})),t._flip=a.animation,s.idLookup[n]=p[e],s.opacity[e]=p[e].o,"none"!==p[e].d&&p[e].p||s.entering.push(t),u){var i=nt.getProperty(t,null,"native"),o=p[e].props={};for(e=u.length;e--;)o[u[e]]=(i(u[e])+"").trim();o.zIndex&&(o.zIndex=parseFloat(o.zIndex)||0)}}),this},a.measure=function measure(){var t,e,r,i,o,a,p,u,l,f,c=this,d=c._data,h=d.swapIn=[],g=d.swapOut=[],y=d.after=[],m=d.entering,x=d.idLookup,w=d.before,v=d.opacity,_=d.context,F=d.swap,b=d.props,E=c.targets,I="fade"===F;if(_||F)for(i=n(_),o=0;o<i.length;o++)(r=x[t=(e=i[o]).getAttribute("data-flip-id")])?!1!==F&&r.el!==e&&(E.push(e),w.push(r),h.push(e),g.push(r.el),e._flip=c.animation,I&&(v.push(0),r.el.style.opacity="0")):m.push(e);for(i=P,b&&(i=i.concat(b)),u=i.map(s),f=C(b&&~b.indexOf("rotation")&&w),o=0;o<E.length;o++)for(e=E[o],y[o]=f(e,o),t=i.length,a=y[o].rp=w[o].rp=[],l=y[o].sp=w[o].sp=[],p=e.style;t--;)p[i[t]]||p.getPropertyValue(i[t])?l.push(i[t],p[i[t]]):a.push(u[t]);return c.measured=!0,c},a.to=function to(e,n){e=e||this.vars;var i,a,s,p,l,f,c,d,h,g,m,w,v,_=this,C=function _mergeReserved(e,n){for(var r in n)it[r]&&(e[r]=n[r]);return t(e),e}(_._data,e),F=e.change&&e.change(_),b=_.targets,B=_.measured,P=_.animation,A=(B||_.measure(),e.onEnter),M=e.onLeave,k=e.absolute,R=e.nested,N=e.custom,S=e.delay,T=e.paused,X=e.toggleClass,Y=C.entering,H=C.before,V=C.opacity,j=C.swapOut,G=C.swapIn,U=C.after,q=C.props,W=C.swap,Z="scale"in e?e.scale:C.scale,$=C.tweenVars=u(e,it),D=P[n?"to":"from"],Q=$,tt="fade"===W,et=q&&~q.indexOf("rotation");if(q&&q.forEach(function(e){return $[e]=function(t){return console.log(t,"get",H[t].props[e])||H[t].props[e]}}),P.clear(),O(b,Y,H,U,A,P),M){for(m=[],a=b.length;a--;)"none"!==U[a].d&&U[a].p||m.push(b[a]);O(b,m,H,U,M,P,!0)}if(k&&(g=z(b,U,[])),Z?($.scaleX=c=function scaleX(t){return K(H[t],U[t])},$.scaleY=d=function scaleY(t){return L(H[t],U[t])}):(E(H,U),$.width=l=function width(t){return at(H[t],U[t])},$.height=f=function height(t){return st(H[t],U[t])}),$.x=s=function x(t){return I(H[t],U[t],Z,k?g[t].x:0,R&&P)},$.y=p=function y(t){return J(H[t],U[t],Z,k?g[t].y:0,R&&P)},R&&(P._flipProps=$,b.forEach(function(t,e){return t._flipI=e})),tt?$.opacity=function(t){return V[t]}:function remove(){j.forEach(r)}(),rt.forEach(function(t){return e[t]&&P.eventCallback(t,e[t],e[t+"Params"])}),S&&P.delay(S),j.forEach(function(t,e){if(~(i=b.indexOf(t))){U[i]=H[i],H[i]=U[b.indexOf(G[e])];var n={x:s(i),y:p(i)};Z?(n.scaleX=c(i),n.scaleY=d(i)):(n.width=l(i),n.height=f(i)),et&&(n.rotation=H[i].r),nt.set(t,n),H[i]=U[i]}}),N&&b.length)for(w in Q=u($,it),N)(h=u(N[w],ot))[w]=$[w],D.call(P,b,h,0),delete Q[w];return b.length&&(X&&P.add(function(){return o(b,X,P._zTime<0?"remove":"add")},0)&&!T&&o(b,X,"add"),D.call(P,b,Q,0),v=P.duration(),P.call(function(){var t=P.time()>=v;t&&function _finalState(t,e,n,i){for(var o,a,s,p=t.length;p--;){if(!n){for(o=t[p].style,a=(s=e[p].rp).length;a--;)o.removeProperty(s[a]);for(s=e[p].sp,a=0;a<s.length;a+=2)o[s[a]]=s[a+1]}t[p]._gsap.uncache=1}i&&i.forEach(r)}(b,U,n,tt&&j),X&&o(b,X,t?"remove":"add")})),_.associate(F),T?P.pause():P.restart(!0)},a.from=function from(t){return this.to(t,!0)},a.associate=function associate(t){return t&&t instanceof nt.core.Animation&&this.animation._flipAnims.push(t),this},Flip.fit=function fit(t,e,n){t=m(t);var r,i,o=n?u(n,ot):{},a=n||o,s=a.absolute,p=a.scale,l=a.fitChild,f=a.getVars,c=a.rotate,d=v(m(e)),h=!1!==c,g=C(h&&[d],l&&m(l))(t,0);return p||E([d],[g]),r=s&&z([t],[g],[])[0],h&&(o.rotation=d.r),p?(o.scaleX=K(d,g),o.scaleY=L(d,g)):(o.width=at(d,g),o.height=st(d,g)),l?(i=nt.set(t,u(o,it)),r=m(l).getBoundingClientRect(),o.x=g.x+d.l-r.left,o.y=g.y+d.t-r.top,i.render(-1).kill()):(o.x=I(d,g,p,r?r.x:0),o.y=J(d,g,p,r?r.y:0)),f||"duration"in o||(o.duration=0),f?o:nt.to(t,o)},Flip.isFlipping=function isFlipping(t){var e=Flip.getByTarget(t);return!!e&&e.isActive()},Flip.getByTarget=function getByTarget(t){return(t=m(t))&&t._flip},Flip.getById=function getById(t){return p[t]},Flip.register=function register(t){i=(nt=t).utils.toArray,h=nt.plugins.css.core._getMatrix,nt.flip=function(t){return new Flip(t)}},Flip);function Flip(e){var n=this,r=n.vars=e||{},i=n._data=u(r,f),o=r.change=i.to||i.from||i.change;"id"in i&&(p[i.id]=n),t(i),n.animation=nt.timeline({paused:!0}),n.animation._flipAnims=[],n.record(i.targets),o&&n.to(r,!!i.from)}"undefined"!=typeof window&&window.gsap&&window.gsap.registerPlugin(c),e.Flip=c,e.default=c;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});

